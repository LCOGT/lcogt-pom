<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
   <modelVersion>4.0.0</modelVersion>
   <groupId>org.lcogt</groupId>
   <artifactId>lcogt-pom</artifactId>
   <packaging>pom</packaging>
   <name>Super pom</name>
   <version>0.7.0-SNAPSHOT</version>
   <description>Pom to be inherited by all lcogt projects.</description>

   <organization>
      <name>Las Cumbres Observatory</name>
      <url>http://www.lcogt.net/</url>
   </organization>

   <!-- SCM information required by buildnumber-maven-plugin. Not used (it 
      uses 'svn info'), but fails if it's not here. -->
   <scm>
      <connection>scm:svn:http://versionsba/svn/telsoft</connection>
      <developerConnection>scm:svn:http://versionsba/svn/telsoft</developerConnection>
      <url>http://versionsba/svn/telsoft</url>
      <tag>HEAD</tag>
   </scm>

   <properties>
      <!-- Versions for LCOGT projects -->
      <commons.version>0.1.0-SNAPSHOT</commons.version>
      <jtcs.version>2.11.0-SNAPSHOT</jtcs.version>
      <instrument.version>2.11.0-SNAPSHOT</instrument.version>
      <pubSub.version>0.15.0-SNAPSHOT</pubSub.version>
      <schemas.version>0.17.0-SNAPSHOT</schemas.version>
      <telemetry.version>0.10.0-SNAPSHOT</telemetry.version>
      <telemetry-utils.version>0.1.0-SNAPSHOT</telemetry-utils.version>
      <jcil-version>0.9.0-SNAPSHOT</jcil-version>
      <jtcsCommon-version>0.2.0-SNAPSHOT</jtcsCommon-version>
      <enclosure-version>0.3.1-SNAPSHOT</enclosure-version>
      <harvest-version>0.5.0-SNAPSHOT</harvest-version>
      <reduction-version>0.2.0-SNAPSHOT</reduction-version>
      <sequencer-version>0.3.0-SNAPSHOT</sequencer-version>
      <services-version>0.2.0-SNAPSHOT</services-version>
      <site-version>0.3.0-SNAPSHOT</site-version>
      <facilityServices-version>0.1.0-SNAPSHOT</facilityServices-version>
      <!-- Versions for third-party projects -->
      <jade.version>4.0.1-3-SNAPSHOT</jade.version>
      <jtpoint-version>18.13-0-SNAPSHOT</jtpoint-version>
      <jtpk-version>1.11-0-SNAPSHOT</jtpk-version>
      <jtcspk-version>8.4-0-SNAPSHOT</jtcspk-version>
      <sla-version>11.0508-0-SNAPSHOT</sla-version>
      <fitsheader-version>0.1.0-SNAPSHOT</fitsheader-version>
      <jstarsearch-version>0.1.0-SNAPSHOT</jstarsearch-version>
      <sextractor-version>2.5.0</sextractor-version>
      <wcsfit-version>0.1.0-SNAPSHOT</wcsfit-version>
      <reduction-server-version>0.1.0-SNAPSHOT</reduction-server-version>
   </properties>

   <!-- Centralised dependency management -->
   <dependencyManagement>
      <dependencies>
         <!-- LCOGT artifacts -->
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>commons</artifactId>
            <version>${commons.version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>jTcs</artifactId>
            <version>${jtcs.version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>instrument-agent</artifactId>
            <version>${instrument.version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>pubSub</artifactId>
            <version>${pubSub.version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt.telemetry</groupId>
            <artifactId>schemas</artifactId>
            <version>${schemas.version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt.telemetry</groupId>
            <artifactId>telemetry-core</artifactId>
            <version>${telemetry.version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt.telemetry</groupId>
            <artifactId>telemetry-utils-core</artifactId>
            <version>${telemetry-utils.version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>jTcsCommon</artifactId>
            <version>${jtcsCommon-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>enclosure-agent</artifactId>
            <version>${enclosure-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>reduction-agent</artifactId>
            <version>${reduction-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>reduction</artifactId>
            <version>${reduction-server-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt.dataharvester</groupId>
            <artifactId>harvester</artifactId>
            <version>${harvest-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt.sequencer</groupId>
            <artifactId>sequencer-agent</artifactId>
            <version>${sequencer-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>telescope-services</artifactId>
            <version>${services-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>site-agent</artifactId>
            <version>${site-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>facility-services</artifactId>
            <version>${facilityServices-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>jcil-${os.arch}</artifactId>
            <version>${jcil-version}</version>
         </dependency>

         <!-- Third party artifacts -->
         <dependency>
            <groupId>com.tilab</groupId>
            <artifactId>jade</artifactId>
            <version>${jade.version}</version>
         </dependency>
         <dependency>
            <groupId>ral.slalib</groupId>
            <artifactId>sla-${os.arch}</artifactId>
            <version>${sla-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>jTPoint-${os.arch}</artifactId>
            <version>${jtpoint-version}</version>
         </dependency>
         <dependency>
            <groupId>ral</groupId>
            <artifactId>jtpk-${os.arch}</artifactId>
            <version>${jtpk-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>jtcspk-${os.arch}</artifactId>
            <version>${jtcspk-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>FITSheader</artifactId>
            <version>${fitsheader-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>wcsfit</artifactId>
            <version>${wcsfit-version}</version>
         </dependency>
         <dependency>
            <groupId>org.lcogt</groupId>
            <artifactId>jStarSearch</artifactId>
            <version>${jstarsearch-version}</version>
         </dependency>

         <!-- External artifacts -->
         <dependency>
            <groupId>commons-lang</groupId>
            <artifactId>commons-lang</artifactId>
            <version>2.6</version>
         </dependency>
         <dependency>
            <groupId>cds.astro</groupId>
            <artifactId>astro</artifactId>
            <version>1.2.2</version>
         </dependency>
         <dependency>
            <groupId>hsqldb</groupId>
            <artifactId>hsqldb</artifactId>
            <version>1.8.0.7</version>
         </dependency>
         <dependency>
            <groupId>javax.mail</groupId>
            <artifactId>mail</artifactId>
            <version>1.4.2</version>
         </dependency>
         <dependency>
            <groupId>org.python</groupId>
            <artifactId>jython</artifactId>
            <version>2.5.2</version>
         </dependency>
         <dependency>
            <groupId>commons-beanutils</groupId>
            <artifactId>commons-beanutils</artifactId>
            <version>1.8.3</version>
         </dependency>
         <dependency>
            <groupId>org.glassfish</groupId>
            <artifactId>javax.servlet</artifactId>
            <version>10.0-b28</version>
         </dependency>
         <dependency>
            <groupId>org.eclipse.jetty</groupId>
            <artifactId>jetty-server</artifactId>
            <version>8.0.0.M3</version>
         </dependency>
      </dependencies>
   </dependencyManagement>


   <!-- Common dependencies across all projects -->
   <dependencies>
      <dependency>
         <groupId>junit</groupId>
         <artifactId>junit</artifactId>
         <version>4.10</version>
         <scope>test</scope>
      </dependency>
      <dependency>
         <groupId>org.mockito</groupId>
         <artifactId>mockito-all</artifactId>
         <version>1.9.0-rc1</version>
         <scope>test</scope>
      </dependency>
      <dependency>
         <groupId>log4j</groupId>
         <artifactId>log4j</artifactId>
         <version>1.2.16</version>
      </dependency>
   </dependencies>

   <reporting>
      <plugins>
         <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-javadoc-plugin</artifactId>
            <version>2.8</version>
         </plugin>
         <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-jxr-plugin</artifactId>
            <version>2.3</version>
         </plugin>
         <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>versions-maven-plugin</artifactId>
            <version>1.2</version>
            <reportSets>
               <reportSet>
                  <reports>
                     <report>dependency-updates-report</report>
                     <report>plugin-updates-report</report>
                     <report>property-updates-report</report>
                  </reports>
               </reportSet>
            </reportSets>
         </plugin>
      </plugins>
   </reporting>

   <build>

      <!-- To define the plugin version in your parent POM -->
      <pluginManagement>
         <plugins>
            <plugin>
               <groupId>org.apache.maven.plugins</groupId>
               <artifactId>maven-javadoc-plugin</artifactId>
               <version>2.8</version>
            </plugin>
         </plugins>
      </pluginManagement>


      <!-- Webdav extension for deployment -->
      <extensions>
         <extension>
            <groupId>org.apache.maven.wagon</groupId>
            <artifactId>wagon-webdav</artifactId>
            <version>1.0-beta-2</version>
         </extension>
      </extensions>

      <plugins>
         <plugin>
            <inherited>true</inherited>
            <artifactId>maven-compiler-plugin</artifactId>
            <configuration>
               <source>1.6</source>
               <target>1.6</target>
            </configuration>
         </plugin>
         <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-javadoc-plugin</artifactId>
         </plugin>
         <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-source-plugin</artifactId>
            <version>2.1.2</version>
            <executions>
               <execution>
                  <id>attach-sources</id>
                  <phase>verify</phase>
                  <goals>
                     <goal>jar-no-fork</goal>
                  </goals>
               </execution>
            </executions>
         </plugin>

         <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>buildnumber-maven-plugin</artifactId>
            <version>1.0</version>
            <executions>
               <execution>
                  <phase>validate</phase>
                  <goals>
                     <goal>create</goal>
                  </goals>
               </execution>
            </executions>
            <configuration>
               <doCheck>false</doCheck>
               <doUpdate>false</doUpdate>
            </configuration>
         </plugin>

         <!-- Include Subversion revision number in manifest -->
         <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-jar-plugin</artifactId>
            <version>2.3.1</version>
            <configuration>
               <archive>
                  <manifestEntries>
                     <Implementation-Title>${scmBranch}</Implementation-Title>
                     <Implementation-Version>${buildNumber}</Implementation-Version>
                  </manifestEntries>
               </archive>
            </configuration>
         </plugin>
      </plugins>
   </build>

   <!-- Remote repository deployment -->
   <distributionManagement>
      <repository>
         <id>nexus</id>
         <name>releases</name>
         <url>http://buildsba:8081/nexus/content/repositories/releases</url>
      </repository>
      <snapshotRepository>
         <id>nexus</id>
         <name>snapshots</name>
         <url>http://buildsba:8081/nexus/content/repositories/snapshots</url>
      </snapshotRepository>
      <site>
         <id>buildsba</id>
         <url>scp://buildsba.lco.gtn/opt/javadocs/</url>
      </site>
   </distributionManagement>

</project>

